"use strict";angular.module("SatoshiLabsHomework",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngClipboard"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("SatoshiLabsHomework").controller("MainCtrl",["$scope",function(a){var b=JSON.parse(localStorage.getItem("satoshiLabsHomework"))||[];a.editedItemIndex=0,a.data=b,a.formNew={},a.formEdit={},a.dismissForm="",a.passwordDisplayed=!1,a.passwordInputType="password",a.passwordStrength=0;var c=function(a){var b=[];return a.name||b.push("item name"),a.username||b.push("username"),a.password||b.push("password"),0===b.length?!1:"You need to fill "+b.join(", ")+" before sending the form."},d=function(a){return a&&!/^https?:[/]{2}/.test(a)?"http://"+a:a},e=function(){a.passwordDisplayed=!1,a.passwordInputType="password"},f=function(){for(var a=[],c=0;c<b.length;c++)a.push({name:b[c].name,website:b[c].website,username:b[c].username,password:b[c].password});localStorage.setItem("satoshiLabsHomework",JSON.stringify(a))};a.addPassword=function(e){var g=c(e);g?(a.dismissForm=!1,alert(g)):(b.push({name:e.name,website:d(e.website),username:e.username,password:e.password}),a.formNew={},a.passwordStrength=0,a.dismissForm="modal",f())},a.deletePassword=function(c){var d=confirm("Do you really want to delete this password?");d?(b.splice(c,1),a.dismissForm="modal",f()):a.dismissForm=""},a.editPassword=function(e,g){var h=c(g);if(a.dismissForm="",h)alert(h);else{var i=confirm("Do you really want to save changes you made?");i&&(b[e]={name:g.name,website:d(g.website),username:g.username,password:g.password},a.dismissForm="modal",f())}},a.setEditedPasswordIndex=function(b){a.editedItemIndex=b},a.fillEditForm=function(b){e(),a.computePasswordStrength(b.password.length),a.formEdit={name:b.name,website:b.website,username:b.username,password:b.password}},a.clearAddFrom=function(){e(),a.passwordStrength=0,a.formAdd={name:"",website:"",username:"",password:""}},a.tooglePasswordDisplay=function(){a.passwordDisplayed?(a.passwordInputType="password",a.passwordDisplayed=!1):(a.passwordInputType="text",a.passwordDisplayed=!0)},a.computePasswordStrength=function(b){var c=16,d=0,e="";d=b>c?100:Math.round(b/c*100),50>d?e="progress-bar-danger":80>d&&(e="progress-bar-warning"),a.passwordStrength=d,a.progressbarType=e}}]);